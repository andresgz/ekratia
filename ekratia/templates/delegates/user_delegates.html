{% extends "base.html" %}

{% load i18n %}
{% block title %}{% trans "My Delegates" %}{% endblock title %}
{% block content %}
    <div ng-controller="DelegatesController" data-ng-init="loadDelegates()">
        <div class="row">
            <div class="col-md-12">
                <h2 class="text-center">{% trans "My Delegates" %}</h2>
                <hr>

                <h3>{% trans "Your current Delegates" %}</h3>
                {% verbatim %}
                <div class="row">
                    <div class="well" ng-hide="assigned_delegates.length>0">
                        Currently you don't have delegates
                    </div>
                    <div class="delegate active col-xs-6 col-sm-3 col-md-2" ng-repeat="user in assigned_delegates">
                        <div class="thumbnail">
                            <div class="delegate-action color-red">
                                <a href="" title="Undelegate" ng-click="undelegate(user)"><i class="fa fa-times-circle"></i></a>
                            </div>
                            <img ng-src="{{ user.avatar }}" alt="{{ user.username }}" class="img-circle">
                            <div class="caption">
                                <h4 title="{{ user.username }}"><strong ng-bind="user.username"></strong></h4>
                            </div>
                        </div>
                    </div>
                </div>
                {% endverbatim %}

                <h3>{% trans "Add more Delegates" %}</h3>
                {% verbatim %}
                <div class="row">
                    <div class="form-group">
                        <div class="col-md-4">
                            <input type="text" placeholder="Search By Name" ng-model="filter_name" ng-change="loadAvailableDelegates()" class="form-control input-md">
                        </div>
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="well" ng-hide="available_delegates.length>0">
                        We don't have more delegates for you
                    </div>
                    <div class="delegate active col-xs-6 col-sm-3 col-md-2" ng-repeat="user in available_delegates">
                        <div class="thumbnail">
                            <div class="delegate-action">
                                <a href="" title="Delegate User" ng-click="addDelegate(user)"><i class="fa fa-plus-circle"></i></a>
                            </div>

                            <img ng-src="{{ user.avatar }}" alt="{{ user.username }}" class="img-circle">
                            <div class="caption">
                                <h4 title="{{ user.username }}"><strong ng-bind="user.username"></strong></h4>
                            </div>
                        </div>
                    </div>
                </div>
                {% endverbatim %}
            </div>
        </div>
    </div>
{% endblock %}
