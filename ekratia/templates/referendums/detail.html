{% extends "base.html" %}
{% load bootstrap3 i18n %}
{% block title %}{% trans "Referendum" %}: {{ object.title }}{% endblock title %}
{% block content %}
<div class="container threads" ng-controller="CommentsController" data-ng-init="initThread('referendum', {{object.id}}, {{ object.comment_id}})">
    <span us-spinner="{radius:30, width:8, length: 16}"></span>
    <h1>{{ object.title }}</h1>
    <div class="referendums-head">
        <div class="referendum-rule-title top20">{% trans "Text that this referendum will remove from our rules" %}:</div>
        <p ng-bind-html="'{{object.text_remove_rules }}' | nl2p"></p>
        <div  class="referendum-rule-title top20">{% trans "Text that this referendum will add to our rules" %}:</div>
        <p ng-bind-html="'{{object.text_add_rules }}' | nl2p"></p>
    </div>
    <div class="row top20">
        <div class="col-md-12">
            <ul class="root-comment-list">
                <li class="first-level" ng-repeat="comment in comments" ng-include="'tree_item_renderer.html'" on-last-repeat>
                </li>
            </ul>
        </div>
    </div>
</div>
<script type="text/ng-template"  id="tree_item_renderer.html">
{% include "threads/_comment_node.html" %}
</script>
{% endblock content %}
